{"version":3,"file":"static/js/172.066b7160.chunk.js","mappings":"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","sources":["modules/mask-questions.js","UI/components/EmailForm2.js","UI/components/ResultContent2.js","modules/mask-product-result.js","UI/templates/SurveyMask.js"],"sourcesContent":["const Questions = [\r\n    {\r\n        question: \"How does your skin feel most days?\",\r\n        questionNote: \"*Choose 1\",\r\n        answers: ['Dry and flaky', 'Tends to get oily throughout the day', 'A combination of oily and dry on different areas', 'Red and sensitive with uneven texture', 'Normal and flawless'],\r\n        type: 'SingleChoice',\r\n        inputType: 'Button',\r\n        showAllLabel: null,\r\n        category: '',\r\n        btnClass: 'btn__choice-bigger',\r\n    },\r\n    {\r\n        question: \"About how many glasses of water do you drink per day?\",\r\n        questionNote: \"*Choose 1\",\r\n        answers: ['3 or less', '4 to 6', '7 to 9', 'More than 10'],\r\n        type: 'SingleChoice',\r\n        inputType: 'Button',\r\n        showAllLabel: null,\r\n        category: '',\r\n        btnClass: 'btn__choice-bigger',\r\n        buttonType: 'full',\r\n    },\r\n    {\r\n        question: \"What is your local climate like?\",\r\n        questionNote: \"*Choose 1\",\r\n        answers: ['Dry', 'Neutral', 'Humid & Hot', 'Seasonal'],\r\n        type: 'SingleChoice',\r\n        inputType: 'Button',\r\n        showAllLabel: null,\r\n        category: '',\r\n        btnClass: 'btn__choice-bigger',\r\n        buttonType: 'full',\r\n    },\r\n    {\r\n        question: \"What is your main concern?\",\r\n        questionNote: \"*Choose 1\",\r\n        answers: ['Clogged and enlarged pores', 'Dull skin with fine lines and wrinkles', 'Dark spots or hyperpigmentation', 'Dehydrated and flaky skin', 'Acne and/or skin inflammation', 'Excess oil'],\r\n        type: 'SingleChoice',\r\n        inputType: 'Button',\r\n        showAllLabel: null,\r\n        category: '',\r\n        btnClass: 'btn__choice-bigger',\r\n    }\r\n];\r\n\r\nexport default Questions;\r\n","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { ReactComponent as Check } from '../../assets/check.svg';\r\nimport { validateEmail } from '../../modules/Utils';\r\n\r\nconst EmailForm = (props) => {\r\n    const { onSubmit, skipEmail } = props;\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [isValidEmail, setIsValidEmail] = useState(false);\r\n    const [termChecked, setTermCheck] = useState(false);\r\n\r\n    const onEmailChange = (e) => {\r\n        setIsValidEmail(validateEmail(e.target.value));\r\n        setEmail(e.target.value);\r\n    };\r\n\r\n    const onCheckTerm = (e) => {\r\n        setTermCheck(e.target.checked);\r\n    }\r\n\r\n    const submitEmail = (e) => {\r\n        onSubmit(email);\r\n        e.preventDefault();\r\n    }\r\n\r\n    return (\r\n        <div className=\"col-12 col-lg-6 mt-4 pt-0 pt-lg-4 text-center\">\r\n            <p className=\"h1 mb-0\">We found your perfect mask</p>\r\n            <p className=\"mt-2 h4 fw-normal mx-3\" dangerouslySetInnerHTML={{ __html: \"We've got your routine ready! Enter your email to view your results and get 15% OFF your first purchase.\" }}></p>\r\n            <div className=\"col-12 col-lg-8 ms-auto me-auto mt-4\">\r\n                <div className=\"form-group\">\r\n                    <form onSubmit={submitEmail}>\r\n                        <input type=\"email\" className=\"form-control bg-light-gray\" placeholder=\"E-mail address\" onChange={onEmailChange}/>\r\n                        <div className=\"d-flex pb-2 justify-content-center align-items-center mt-3\">\r\n                            <label className='checkbox-number align-items-center pt-0 font-size-sm justify-content-center' htmlFor='agree'>\r\n                                <input className='d-none' type=\"checkbox\" value=\"true\" id='agree' onChange={onCheckTerm} />\r\n                                <div className={`${termChecked ? 'bg-primary border-0' : '' } custom-check me-1 mt-0 form-check-input text-center d-flex align-items-center justify-content-center`}>\r\n                                    <Check className={`${!termChecked ? 'd-none' : ''} svg text-white`}/>\r\n                                </div>\r\n                            </label>\r\n                            <label className=\"font-size-sm mx-1\" dangerouslySetInnerHTML={{ __html: 'I agree to <a href=\"https://www.sandandsky.com/pages/privacy-policy\">Privacy Policy</a> & <a href=\"https://www.sandandsky.com/pages/term-condition\">Terms & Conditions</a>' }} htmlFor=\"agree\"></label>\r\n                        </div>\r\n                        <p className=\"font-size-sm\">By signing up, you agree to receive exclusive offers via email. Sign up not required for purchase. Opt out any time.</p>\r\n                        <button type=\"submit\" className=\"btn btn-lg d-block btn-primary mb-3 w-100 mt-2\" disabled={!isValidEmail || !termChecked}>Submit</button>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n            <div className=\"footer-action w-100 pb-2 bg-white mt-4\">\r\n                <a href=\"#\" className=\"d-block text-underline text-black w-100 mt-5 mb-lg-4\" onClick={skipEmail}>Skip this step</a>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nEmailForm.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n    skipEmail: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default EmailForm;","import React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst ResultContent = (props) => {\r\n    const { viewMyResult } = props;\r\n\r\n    return (\r\n        <div className=\"col-12 col-lg-6 mt-4 pt-0 pt-lg-4 text-center\">\r\n            <p className=\"h1\">Thanks!<br/>Here is your promo code:</p>\r\n            <div className=\"col-12 col-lg-8 ms-auto me-auto mt-2\">\r\n                <span className='h1 px-4 py-1 text-primary rounded p-2 bg-light-gray d-inline-block bg-primary-light'>MASK15</span>\r\n                <p className='mt-2'>No minimum spend, 15% off single full-sized masks only!</p>\r\n                <button className=\"mt-2 btn btn-lg btn-primary w-100\" onClick={viewMyResult}>View my results</button>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nResultContent.propTypes = {\r\n    viewMyResult: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ResultContent;","const getMaskProductResult = (Questions, currentAnswer) => {\r\n    let productsRecommend = [];\r\n\r\n    const skinFeelO = Questions[0].answers;\r\n    const skinFeelA = currentAnswer[1];\r\n    const waterO = Questions[1].answers;\r\n    const waterA = currentAnswer[2];\r\n\r\n    const climateO = Questions[2].answers;\r\n    const climateA = currentAnswer[3];\r\n\r\n    const skinConcertO = Questions[3].answers;\r\n    const skinConcertA = currentAnswer[4];\r\n\r\n    switch (skinFeelA) {\r\n        case skinFeelO[0]:\r\n            switch (skinConcertA) {\r\n                case skinConcertO[0]:\r\n                    switch (climateA) {\r\n                        case climateO[0]:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['TSW Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['TSW Mask'];\r\n                                    break;\r\n                                case waterO[2]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                case waterO[3]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                        case climateO[1]:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['TSW Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['TSW Mask'];\r\n                                    break;\r\n                                case waterO[2]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                case waterO[3]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                        case climateO[2]:\r\n                            productsRecommend = ['TSW Mask'];\r\n                            break;\r\n                        case climateO[3]:\r\n                            productsRecommend = ['APC Mask'];\r\n                            break;\r\n                    }\r\n                    break;\r\n                case skinConcertO[1]:\r\n                    productsRecommend = ['AEA Mask'];\r\n                    break;\r\n                case skinConcertO[2]:\r\n                    switch (waterA) {\r\n                        case waterO[0]:\r\n                            productsRecommend = ['TSW Mask'];\r\n                            break;\r\n                        case waterO[1]:\r\n                            productsRecommend = ['TSW Mask'];\r\n                            break;\r\n                        default:\r\n                            productsRecommend = ['AEA Mask'];\r\n                            break;\r\n                    }\r\n                    break;\r\n                case skinConcertO[3]:\r\n                    productsRecommend = ['TSW Mask'];\r\n                    break;\r\n                case skinConcertO[4]:\r\n                    productsRecommend = ['OC Mask'];\r\n                    break;\r\n                case skinConcertO[5]:\r\n                    switch (climateA) {\r\n                        case climateO[0]:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['OC Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['OC Mask'];\r\n                                    break;\r\n                                default:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                        case climateO[1]:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['OC Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['OC Mask'];\r\n                                    break;\r\n                                default:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                        default:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['OC Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['OC Mask'];\r\n                                    break;\r\n                                default:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                    }\r\n                    break;\r\n            }\r\n            break;\r\n        case skinFeelO[1]:\r\n            switch (skinConcertA) {\r\n                case skinConcertO[0]:\r\n                    switch (climateA) {\r\n                        case climateO[0]:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                default:\r\n                                    productsRecommend = ['OC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                        case climateO[1]:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                default:\r\n                                    productsRecommend = ['OC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                        default:\r\n                            productsRecommend = ['OC Mask'];\r\n                            break;\r\n                    }\r\n                    break;\r\n                case skinConcertO[1]:\r\n                    switch (waterA) {\r\n                        case waterO[0]:\r\n                            productsRecommend = ['TSW Mask'];\r\n                            break;\r\n                        case waterO[1]:\r\n                            productsRecommend = ['TSW Mask'];\r\n                            break;\r\n                        default:\r\n                            productsRecommend = ['AEA Mask'];\r\n                            break;\r\n                    }\r\n                    break;\r\n                case skinConcertO[2]:\r\n                    productsRecommend = ['AEA Mask'];\r\n                    break;\r\n                case skinConcertO[3]:\r\n                    switch (climateA) {\r\n                        case climateO[0]:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['TSW Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['TSW Mask'];\r\n                                    break;\r\n                                default:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                        case climateO[1]:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['TSW Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['TSW Mask'];\r\n                                    break;\r\n                                default:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                        default:\r\n                            productsRecommend = ['TSW Mask'];\r\n                            break;\r\n                    }\r\n                    break;\r\n                case skinConcertO[4]:\r\n                    productsRecommend = ['OC Mask'];\r\n                    break;\r\n                case skinConcertO[5]:\r\n                    switch (climateA) {\r\n                        case climateO[0]:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                default:\r\n                                    productsRecommend = ['OC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                        case climateO[1]:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                default:\r\n                                    productsRecommend = ['OC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                        default:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                default:\r\n                                    productsRecommend = ['OC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                    }\r\n                    break;\r\n            }\r\n            break;\r\n        case skinFeelO[2]:\r\n            switch (skinConcertA) {\r\n                case skinConcertO[0]:\r\n                    productsRecommend = ['APC Mask'];\r\n                    break;\r\n                case skinConcertO[1]:\r\n                    switch (waterA) {\r\n                        case waterO[0]:\r\n                            productsRecommend = ['TSW Mask'];\r\n                            break;\r\n                        case waterO[1]:\r\n                            productsRecommend = ['TSW Mask'];\r\n                            break;\r\n                        default:\r\n                            productsRecommend = ['AEA Mask'];\r\n                            break;\r\n                    }\r\n                    break;\r\n                case skinConcertO[2]:\r\n                    productsRecommend = ['AEA Mask'];\r\n                    break;\r\n                case skinConcertO[3]:\r\n                    switch (climateA) {\r\n                        case climateO[2]:\r\n                            productsRecommend = ['APC Mask'];\r\n                            break;\r\n                        case climateO[3]:\r\n                            productsRecommend = ['APC Mask'];\r\n                            break;\r\n                        default:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['TSW Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['TSW Mask'];\r\n                                    break;\r\n                                default:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                    }\r\n                    break;\r\n                case skinConcertO[4]:\r\n                    productsRecommend = ['OC Mask'];\r\n                    break;\r\n                case skinConcertO[5]:\r\n                    switch (climateA) {\r\n                        case climateO[2]:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                default:\r\n                                    productsRecommend = ['OC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                        case climateO[3]:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                default:\r\n                                    productsRecommend = ['OC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                        default:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                default:\r\n                                    productsRecommend = ['OC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                    }\r\n            }\r\n            break;\r\n        case skinFeelO[3]:\r\n            switch (skinConcertA) {\r\n                case skinConcertO[0]:\r\n                    switch (climateA) {\r\n                        case climateO[2]:\r\n                            productsRecommend = ['OC Mask'];\r\n                            break;\r\n                        case climateO[3]:\r\n                            productsRecommend = ['APC Mask'];\r\n                            break;\r\n                        default:\r\n                            switch (waterA) {\r\n                                case waterO[0]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                case waterO[1]:\r\n                                    productsRecommend = ['APC Mask'];\r\n                                    break;\r\n                                default:\r\n                                    productsRecommend = ['OC Mask'];\r\n                                    break;\r\n                            }\r\n                            break;\r\n                    }\r\n                    break;\r\n                case skinConcertO[1]:\r\n                    switch (climateA) {\r\n                        case climateO[3]:\r\n                            productsRecommend = ['OC Mask'];\r\n                            break;\r\n                        default:\r\n                            productsRecommend = ['AEA Mask'];\r\n                            break;\r\n                    }\r\n                    break;\r\n                case skinConcertO[2]:\r\n                    productsRecommend = ['AEA Mask'];\r\n                    break;\r\n                case skinConcertO[3]:\r\n                    productsRecommend = ['TSW Mask'];\r\n                    break;\r\n                case skinConcertO[4]:\r\n                    productsRecommend = ['OC Mask'];\r\n                    break;\r\n                case skinConcertO[5]:\r\n                    productsRecommend = ['OC Mask'];\r\n                    break;  \r\n            }\r\n            break;\r\n        case skinFeelO[4]:\r\n            switch (skinConcertA) {\r\n                case skinConcertO[0]:\r\n                    productsRecommend = ['APC Mask'];\r\n                    break;\r\n                case skinConcertO[1]:\r\n                    productsRecommend = ['TSW Mask'];\r\n                    break;\r\n                case skinConcertO[2]:\r\n                    productsRecommend = ['AEA Mask'];\r\n                    break;\r\n                case skinConcertO[3]:\r\n                    productsRecommend = ['TSW Mask'];\r\n                    break;\r\n                case skinConcertO[4]:\r\n                    productsRecommend = ['OC Mask'];\r\n                    break;\r\n                case skinConcertO[5]:\r\n                    productsRecommend = ['OC Mask'];\r\n                    break;\r\n            }\r\n            break;\r\n    }\r\n   \r\n\treturn { productsRecommend }\r\n};\r\n\r\nexport default getMaskProductResult;","import React, { useEffect, useRef, useState } from 'react';\r\nimport '../../survey.scss';\r\n\r\nimport Questions from \"../../modules/mask-questions\";\r\nimport QuestionBox from \"../components/QuestionBox\";\r\nimport SingleChoice from '../components/SingleChoice';\r\nimport MultipleChoice from '../components/MultipleChoice';\r\nimport EmailForm from '../components/EmailForm2';\r\nimport ResultContent from '../components/ResultContent2';\r\n\r\nimport { \r\n    setCookie,\r\n    getCookie,\r\n    decodeAnswers,\r\n    postMessageData,\r\n    postMessageCookie,\r\n    getCookieAnsweredQuestion,\r\n    setCookieAnsweredQuestion,\r\n    postMessageToParentCookie,\r\n} from \"../../modules/Utils\";\r\n\r\nimport { useSearchParams } from \"react-router-dom\";\r\n\r\nimport { ReactComponent as LoaderSvg } from '../../assets/loader.svg';\r\nimport getMaskProductResult from '../../modules/mask-product-result';\r\nimport productList from '../../modules/product-list';\r\n\r\nwindow.getCookie = getCookie;\r\n\r\nconst SurveyMask = () => {\r\n    const [searchParams] = useSearchParams();\r\n    const site = searchParams.get('site');\r\n    const gId = searchParams.get('gaid');\r\n    const surveyState = searchParams.get('state');\r\n    const targetRef = useRef();\r\n\r\n    // INITIAL DATA\r\n    let initialState = getCookie('surveyPosition') || 'start';\r\n    if (surveyState === 'started' && (getCookie('surveyPosition') === 'start' || getCookie('surveyPosition') === null || getCookie('surveyPosition') === '')) {\r\n        postMessageData(site, 'SurveyMask', 'started');\r\n        initialState = 'question-1';\r\n        setCookie('answeredQuestion', '');\r\n    }\r\n    const initialCurrentQuestion = getCookie('currentQuestion') ? parseInt(getCookie('currentQuestion'), 10) : 1;\r\n    const initialSubmitted = getCookie('quizEmail') ? true : false;\r\n    const answerData = getCookieAnsweredQuestion('getCookieAnsweredQuestionMask') ? getCookieAnsweredQuestion('getCookieAnsweredQuestionMask') : {};\r\n\r\n    // INITIAL STATES\r\n    const [currentPosition, setPosition] = useState(initialState);\r\n\tconst [currentQuestion, setQuestion] = useState(initialCurrentQuestion);\r\n    const [currentAnswer, setAnswer] = useState(answerData);\r\n    const [submitted, setSubmitted] = useState(initialSubmitted);\r\n    const [redirect, setRedirect] = useState(false);\r\n    const [email, setEmail] = useState('');\r\n    const additionalStep = true;\r\n\r\n    const classes = currentPosition !== 'result' ? 'px-g' : 'overflow-hidden';\r\n\r\n    const startQuiz = () => {\r\n        postMessageData(site, 'SurveyMask', 'started');\r\n        setPosition('question-1');\r\n    };\r\n\r\n    const setFinished = () => {\r\n        setCookie('surveyPosition', 'finished');\r\n        setPosition('finished');\r\n    }\r\n\r\n    const clearCookie = () => {\r\n        setCookie('currentQuestion', 1);\r\n        setCookie('surveyPosition', 'start');\r\n        setCookie('answeredQuestion', '');\r\n        postMessageCookie(site, 'currentQuestion', 1);\r\n        postMessageCookie(site, 'surveyPosition', 'start');\r\n        postMessageCookie(site, 'answeredQuestion', '');\r\n    }\r\n\r\n    const answerAction = (question, answers) => {\r\n        console.log('answerAction', question, answers)\r\n        currentAnswer[question] = answers;\r\n        setAnswer(decodeAnswers(currentAnswer));\r\n        setCookieAnsweredQuestion(site, decodeAnswers(currentAnswer));\r\n        console.log('currentAnswer2', currentAnswer)\r\n    };\r\n\r\n    const skipEmail = () => {\r\n        gettingResult(true, true);\r\n    }\r\n\r\n    const viewMyResult = () => {\r\n        setRedirect(true);\r\n        postMessageGaParent();\r\n        gettingResult(true);\r\n    }\r\n\r\n    const onSubmit = (emailtoSave) => {\r\n        console.log('emailtoSave', emailtoSave)\r\n        setCookie('quizEmail', emailtoSave);\r\n        setEmail(emailtoSave);\r\n        setSubmitted(true);\r\n        postMessageToParentCookie(site, 'quizEmail', email, site);\r\n        setTimeout(() => { saveData(); }) \r\n        console.log('email3', email);\r\n        if (window.top !== window.self) {\r\n            window.parent.postMessage({\r\n                'func': 'callGaEvent',\r\n                'category': 'SurveyMask',\r\n                'action': 'submitEmail',\r\n                'label': email,\r\n            }, `https://${site}`);\r\n        }\r\n    }\r\n\r\n    const setQuestionState = (questionIndex) => {\r\n        if (questionIndex <= Questions.length) {\r\n            const targetQuestion = Questions[questionIndex];\r\n            if (targetQuestion && targetQuestion.rule && targetQuestion.rule.skipped) {\r\n                const targetAnswer = decodeAnswers(currentAnswer)[targetQuestion.rule.question];\r\n                if (targetAnswer === targetQuestion.rule.answer) {\r\n                    answerAction(questionIndex, '');\r\n                    const targetQuestionIndex = currentQuestion < questionIndex ? questionIndex + 1 : questionIndex - 1;\r\n                    setQuestion(targetQuestionIndex);\r\n                } else {\r\n                    setQuestion(questionIndex);\r\n                }\r\n            } else {\r\n                setQuestion(questionIndex);\r\n            }\r\n        } else if (questionIndex >= Questions.length) {\r\n            console.log('finish', currentPosition);\r\n            postMessageGaParent();\r\n            if (additionalStep) {\r\n                setFinished();\r\n                if (submitted) gettingResult(true);\r\n            }\r\n        }\r\n    }\r\n\r\n    const saveData = () => {\r\n        console.log('email to save', getCookie('quizEmail'))\r\n        const dataForSaving = {};\r\n        for (const [key, value] of Object.entries(currentAnswer)) {\r\n            const idxQ = key - 1;\r\n            if (Questions[idxQ]) {\r\n                const questionText = `${key}: ${Questions[idxQ].question}`;\r\n                dataForSaving[questionText] = value;\r\n            }\r\n        }\r\n\r\n        const { productsRecommend } = getMaskProductResult(Questions, currentAnswer);\r\n        const productHandle = [];\r\n        const productSkus = [];\r\n        let sku = '';\r\n        productsRecommend.forEach((item, index) => {\r\n            productHandle.push(productList[item].handle);\r\n            productSkus.push(productList[item].sku);\r\n            sku = `${sku}${index === 0 ? '' : ','}${productList[item].sku}`;\r\n        });\r\n\r\n        const data = { _ga: gId, questions_answers: dataForSaving, email: getCookie('quizEmail'), sku, quiz_type: 'mask' };\r\n        fetch('https://api.sandandsky.com/surveys', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data),\r\n        });\r\n    }\r\n\r\n    const postMessageGaParent = () => {\r\n        if (window.top === window.self) return;\r\n        const gaAnswers = decodeAnswers(currentAnswer)\r\n        const keys = Object.keys(gaAnswers);\r\n\r\n        postMessageData(site, 'SurveyMask', 'completed');\r\n        postMessageCookie(site, 'surveySubmitNew', 'true');\r\n\r\n        keys.forEach((key,index) => {\r\n            const q = Questions[index];\r\n            const a = gaAnswers[key];\r\n            const label = q.question;\r\n            const action = typeof(a) === 'object' ? a.join(',') : a;\r\n            postMessageData(site, 'SurveyMask', action, label);\r\n        });\r\n    }\r\n\r\n    const gettingResult = (close = false, save = false) => {\r\n        const selectedSite = site ? site : 'dev.sandandsky.com';\r\n        const { productsRecommend } = getMaskProductResult(Questions, currentAnswer);\r\n        console.log('currentAnswer', currentAnswer, productsRecommend);\r\n\r\n        if (save) saveData();\r\n\r\n        if (close) {\r\n            setCookie('surveyPosition', 'finished');\r\n            setPosition('finished');\r\n            postMessageCookie(site, 'surveyPosition', 'finished');\r\n\r\n            const productHandle = [];\r\n            const productSkus = [];\r\n            productsRecommend.forEach((item, index) => {\r\n                productHandle.push(productList[item].handle);\r\n                productSkus.push(productList[item].sku);\r\n            });\r\n\r\n            const surveyResultObj = {\r\n                productsRecommend,\r\n                productHandle,\r\n                productSkus,\r\n                productHandle,\r\n                productSkus,\r\n            };\r\n            const surveyResultJson = JSON.stringify(surveyResultObj);\r\n            setCookie('surveyResult', surveyResultJson);\r\n            postMessageCookie(site, 'surveyResult', surveyResultJson);\r\n\r\n            setTimeout(function () {\r\n                setCookie('surveyPosition', 'result');\r\n                setPosition('result');\r\n                postMessageCookie(site, 'surveyPosition', 'result');\r\n                setCookie('surveyResult', surveyResultJson);\r\n                postMessageCookie(site, 'surveyResult', surveyResultJson);\r\n                clearCookie();\r\n                if (window.top !== window.self) {\r\n                    setTimeout(function () {\r\n                        window.top.location.href = `https://${selectedSite}/pages/survey-result-mask/`;\r\n                    }, 500);\r\n                } else {\r\n                    window.location.href = '/survey-result-mask';\r\n                }\r\n            }, 1500);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div ref={targetRef} className={`survey-mask ${currentPosition === 'start' ? 'cover' : classes} ${currentPosition !== 'result' && currentPosition !== 'start' ? 'container' : ''}`}>\r\n            <div className={`row justify-content-center survey-content ${currentPosition === 'start' ? 'survey-content__start pt-4' : 'align-content-start'} `}>\r\n                { currentPosition === 'start' && (\r\n                    <>\r\n                        <div className='survey-mask__start-screen text-center mt-7 mt-lg-3'>\r\n                            <img className='tooltip' src=\"https://imagedelivery.net/ghVX8djKS3R8-n0oGeWHEA/5d327fa8-3567-48a0-177f-0f28bcaa3300/828x\" />\r\n                            <h1>Mask Quiz</h1>\r\n                            <button className=\"btn btn-primary text-white\" onClick={() => startQuiz()}>Take the quiz</button>\r\n                        </div>\r\n                    </>\r\n                )}\r\n                { currentPosition !== 'start'\r\n                    && currentPosition !== 'finished'\r\n                    && currentPosition !== 'result' && (\r\n                    <>\r\n                        <div className=\"text-center position-relative\">\r\n                            {Questions.map((item, index) => {\r\n                                const key = `question-${index}`;\r\n                                if (currentQuestion === index + 1) {\r\n                                    switch(item.type) {\r\n                                        case 'MultipleChoice':\r\n                                            return (\r\n                                                <QuestionBox\r\n                                                    currentAnswer={decodeAnswers(currentAnswer)}\r\n                                                    totalQuestions={item.answers.length}\r\n                                                    totalSteps={Questions.length}\r\n                                                    answerAction={answerAction}\r\n                                                    setCurrentQuestion={setQuestionState}\r\n                                                    currentQuestion={currentQuestion}\r\n                                                    key={key}\r\n                                                    colSize='col-lg-8 offset-lg-2 col-xl-6 offset-xl-3'\r\n                                                    question={item.question}\r\n                                                    questionNote={item.questionNote}\r\n                                                    caption={item.caption ? item.caption : ''}\r\n                                                    captionClass={item.captionClass ? item.captionClass : ''}\r\n                                                    category={item.category}\r\n                                                    progressBarType='2'\r\n                                                    >\r\n                                                    <MultipleChoice answers={item.answers}\r\n                                                        lastFull={item.lastFull}\r\n                                                        maxChoose={item.maxChoose}\r\n                                                        lastDisableForAll={item.lastDisableForAll}\r\n                                                        btnClass={item.btnClass}\r\n                                                        />\r\n                                                </QuestionBox>\r\n                                            );\r\n                                        default:\r\n                                            return (\r\n                                                <QuestionBox\r\n                                                    currentAnswer={decodeAnswers(currentAnswer)}\r\n                                                    // width={width}\r\n                                                    // height={height}\r\n                                                    totalQuestions={item.answers.length}\r\n                                                    answerAction={answerAction}\r\n                                                    setCurrentQuestion={setQuestionState}\r\n                                                    currentQuestion={currentQuestion}\r\n                                                    totalSteps={Questions.length}\r\n                                                    key={key}\r\n                                                    colSize='col-lg-8 offset-lg-2 col-xl-6 offset-xl-3'\r\n                                                    question={item.question}\r\n                                                    questionNote={item.questionNote}\r\n                                                    caption={item.caption ? item.caption : ''}\r\n                                                    captionClass={item.captionClass ? item.captionClass : ''}\r\n                                                    category={item.category}\r\n                                                    defaultEnabled={item.inputType === 'RangeSlider' ? true : null}\r\n                                                    quizType=\"mask\"\r\n                                                    progressBarType='2'\r\n                                                    >\r\n                                                    <SingleChoice\r\n                                                        answers={item.answers}\r\n                                                        buttonType={item.buttonType}\r\n                                                        inputType={item.inputType}\r\n                                                        showAllLabel={item.showAllLabel}\r\n                                                        btnClass={item.btnClass}\r\n                                                        />\r\n                                                </QuestionBox>\r\n                                            );\r\n                                    }\r\n                                }\r\n                            })}\r\n                        </div>\r\n                    </>\r\n                )}\r\n\r\n                { (currentPosition === 'finished' && !submitted && !redirect) && (\r\n                    <EmailForm onSubmit={onSubmit} skipEmail={skipEmail}/>\r\n                )}\r\n\r\n                { currentPosition === 'finished' && submitted && !redirect && (\r\n                    <ResultContent viewMyResult={viewMyResult}/>\r\n                )}\r\n\r\n                { ((currentPosition === 'finished' || currentPosition === 'result') && redirect) && (\r\n\t\t\t\t\t<div className=\"question-box analyzing d-flex justify-content-center align-items-center flex-column\">\r\n\t\t\t\t\t\t<p className=\"question-box__title\">Analysing your answers</p>\r\n\t\t\t\t\t\t<LoaderSvg className=\"loader mt-0 mb-0\"/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default SurveyMask;"],"names":["question","questionNote","answers","type","inputType","showAllLabel","category","btnClass","buttonType","props","onSubmit","skipEmail","useState","email","setEmail","isValidEmail","setIsValidEmail","termChecked","setTermCheck","className","dangerouslySetInnerHTML","__html","e","preventDefault","placeholder","onChange","validateEmail","target","value","htmlFor","id","checked","disabled","href","onClick","viewMyResult","Questions","currentAnswer","productsRecommend","skinFeelO","skinFeelA","waterO","waterA","climateO","climateA","skinConcertO","skinConcertA","window","getCookie","useSearchParams","searchParams","site","get","gId","surveyState","targetRef","useRef","initialState","postMessageData","setCookie","initialCurrentQuestion","parseInt","initialSubmitted","answerData","getCookieAnsweredQuestion","currentPosition","setPosition","currentQuestion","setQuestion","setAnswer","submitted","setSubmitted","redirect","setRedirect","classes","clearCookie","postMessageCookie","answerAction","console","log","decodeAnswers","setCookieAnsweredQuestion","setQuestionState","questionIndex","targetQuestion","rule","skipped","answer","postMessageGaParent","gettingResult","saveData","dataForSaving","Object","entries","key","idxQ","getMaskProductResult","productHandle","productSkus","sku","forEach","item","index","push","productList","handle","data","_ga","questions_answers","quiz_type","fetch","method","headers","body","JSON","stringify","top","self","gaAnswers","keys","q","a","label","action","join","close","save","selectedSite","surveyResultObj","surveyResultJson","setTimeout","location","ref","src","QuestionBox","totalQuestions","length","totalSteps","setCurrentQuestion","colSize","caption","captionClass","progressBarType","MultipleChoice","lastFull","maxChoose","lastDisableForAll","defaultEnabled","quizType","SingleChoice","emailtoSave","postMessageToParentCookie","parent","postMessage"],"sourceRoot":""}